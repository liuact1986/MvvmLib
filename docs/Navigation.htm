<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>MvvmLib.Wpf - MvvmLib Documentation</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="css/theme.css" type="text/css" />
    <link rel="stylesheet" href="css/theme_colors.css" type="text/css" />
    <link rel="stylesheet" href="css/styles/vs.css">
    <link rel="stylesheet" href="css/font-awesome.4.5.0.min.css">
</head>
<body role="document">
    <div class="grid-for-nav">
        <nav data-toggle="nav-shift" class="nav-side stickynav">
            <div class="side-nav-search">
                <a href="index.htm"><i class="fa fa-home"></i> MvvmLib Documentation</a>
                <div role="search">
                    <form id="search-form" class="form" action="Docnet_search.htm" method="get">
                        <input type="text" name="q" placeholder="Search docs" />
                    </form>
                </div>
            </div>
            <div class="menu menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
<ul>
<li class="tocentry"><a href="index.htm">Home</a>
</li>

<li class="tocentry"><a href="Mvvm.htm">MvvmLib.Core</a>
</li>
<li class="tocentry"><a href="DI.htm">MvvmLib.IoC</a>
</li>
<li class="tocentry current"><a class="current" href="Navigation.htm">MvvmLib.Wpf</a>
<ul class="currentrelative">
<li class="tocentry"><a href="#mvvmlib.wpf-navigation-net-4.5">MvvmLib.Wpf (Navigation) [net 4.5]</a></li>

<li class="tocentry"><a href="#create-a-bootstrapper">Create a Bootstrapper</a></li>

<li class="tocentry"><a href="#navigationsource-keyednavigationsource-and-contentcontrolnavigationsource">NavigationSource, KeyedNavigationSource and ContentControlNavigationSource</a></li>

<li class="tocentry"><a href="#sharedsource-for-itemscontrol-listbox-tabcontrol-etc.">SharedSource for ItemsControl, ListBox, TabControl, etc.</a></li>

<li class="tocentry"><a href="#viewmodellocator">ViewModelLocator</a></li>

<li class="tocentry"><a href="#inavigationaware">INavigationAware</a></li>

<li class="tocentry"><a href="#navigation-guards-icanactivate-icandeactivate">Navigation Guards (ICanActivate, ICanDeactivate)</a></li>

<li class="tocentry"><a href="#iselectable-with-navigationsource">ISelectable with NavigationSource</a></li>

<li class="tocentry"><a href="#navigationbrowser">NavigationBrowser</a></li>

<li class="tocentry"><a href="#iisselected-iselectable-and-selectionsyncbehavior">IIsSelected, ISelectable and SelectionSyncBehavior</a></li>

<li class="tocentry"><a href="#animatablecontentcontrol">AnimatableContentControl</a></li>

<li class="tocentry"><a href="#transitioningcontentcontrol">TransitioningContentControl</a></li>

<li class="tocentry"><a href="#transitioningitemscontrol">TransitioningItemsControl</a></li>

<li class="tocentry"><a href="#eventtocommandbehavior">EventToCommandBehavior</a></li>

<li class="tocentry"><a href="#modules">Modules</a></li>

</ul>
<li class="tocentry"><a href="Navigation_Uwp.htm">MvvmLib.Windows</a>
</li>
<li class="tocentry"><a href="Navigation_XF.htm">MvvmLib.XF</a>
</li>
<li class="tocentry"><a href="Adaptive.htm">MvvmLib.Adaptive.Wpf</a>
</li>
<li class="tocentry"><a href="Adaptive_Uwp.htm">MvvmLib.Adaptive.Windows</a>
</li>
<li class="tocentry"><a href="LICENSE.htm">LICENSE</a>
</li>
</ul>
				<div class="toc-footer">
					<span class="text-small">
						<hr/>
						<a href="https://github.com/FransBouma/DocNet" target="_blank">Made with <i class="fa fa-github"></i> DocNet</a>
					</span>
				</div>	
			</div>
            &nbsp;
        </nav>
        <section data-toggle="nav-shift" class="nav-content-wrap">
            <nav class="nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="nav-top" class="fa fa-bars"></i>
                <a href="index.htm">MvvmLib Documentation</a>
            </nav>
            <div class="nav-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <div class="breadcrumbs">
<ul><li><a href="index.htm">Home</a></li> / <li><a href="Navigation.htm">MvvmLib.Wpf</a></li></ul>
					
                    </div>
                    <hr />
                </div>
                <div role="main">
                    <div class="section">
<h2 id="mvvmlib.wpf-navigation-net-4.5">MvvmLib.Wpf (Navigation) [net 4.5]<a class="headerlink" href="#mvvmlib.wpf-navigation-net-4.5" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<ul>
<li><strong>BootstrapperBase</strong>: allows to manage the startup of the application. Configure an IoC Container, the view and ViewModel factories, register dependencies, preload data, create the Shell ViewModel and the Shell.</li>
<li><strong>NavigationSource</strong>: Source for <strong>Views</strong> and <strong>ViewModels</strong>. It has an History, a collection of &quot;Sources&quot; (a source is a View or a ViewModel), a <strong>Current</strong> source that can be binded to the content of the <strong>ContentControls</strong>. There is two other NavigationSource Types: <strong>KeyedNavigationSource</strong> (a navigation source with a key) and <strong>ContentControlNavigationSource</strong> that updates directly the content of the ContentControl provided. The <strong>SourceName Attached Property</strong> of the NavigationManager allows to attach in Xaml a ContentControl to a ContentControlNavigationSource. The NavigationManager has a collection of NavigationSources stored with <strong>NavigationSourceContainers</strong>. It allows to <strong>navigate simultaneously</strong> for all NavigationSources registered for a SourceName and/or open new Shells.</li>
<li><strong>SharedSource</strong>: Source for <strong>Models</strong> and <strong>ViewModels</strong> with a collection of Items and SelectedItem/SelectedIndex. It supports Views but its not the target. This is the source for ItemsControls, Selectors (ListBox, TabControl), etc.</li>
<li><strong>NavigationBrowser</strong>: allows to browse an items source (the &quot;Sources&quot; collection of NavigationSources or the collection of &quot;Items&quot; of the SharedSources for example) with a CollectionView.</li>
<li><strong>ViewModelLocator</strong>: is used by <strong>NavigationSources</strong> and <strong>SharedSources</strong> (With CreateNew) to resolve the ViewModels for the Views. The default factory can be overridden and use an IoC Container to resolve dependencies. The <strong>ResolveViewModel</strong> attached property can be used on UserControls and Windows not used by the navigation to resolve the ViewModel and inject dependencies.</li>
<li><strong>SourceResolver</strong> is the factory for the views (FrameworkElements). It has to always create a new instance (and not use singletons) to avoid binding troubles.</li>
<li><strong>NavigationManager</strong>: allows to manage NavigationSources and SharedSources</li>
<li><strong>INavigationAware</strong>: allows <em>view models</em> to be notified on navigate</li>
<li><strong>ICanActivate</strong>, <strong>ICanDeactivate</strong>: allow to cancel navigation</li>
<li><strong>IIsSelected</strong>, <strong>ISelectable</strong>, <strong>SelectionSyncBehavior</strong>: allow to select a view </li>
<li><strong>IIsLoaded</strong>: allows to notify view model that the view is loaded for a view that use resolve view model attached property.</li>
<li><strong>AnimatableContentControl</strong>, <strong>TransitioningContentControl</strong>, <strong>TransitioningItemsControl</strong>: allow to animate content</li>
<li><strong>Navigation Behaviors</strong>: <strong>SelectionSyncBehavior</strong> and <strong>EventToCommandBehavior</strong></li>
<li><strong>ModuleManager</strong>: allows to manage modules/assemblies loaded &quot;on demand&quot;</li>
</ul>
<h2 id="create-a-bootstrapper">Create a Bootstrapper<a class="headerlink" href="#create-a-bootstrapper" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Create a new Wpf application. Remove the MainWindow. Create a &quot;Views&quot; directory and a Window named &quot;Shell&quot;.</p>
<p>Install the packages:</p>
<ul>
<li><strong>MvvmLib.Wpf</strong> (<strong>MvvmLib.Core</strong> dependency is automatically installed)</li>
<li><strong>MvvmLib.IoC</strong> or another IoC container (Unity, Autofac, etc.)</li>
</ul>
<p>Create a Bootstrapper Base Class</p>
<p>With <strong>MvvmLib.IoC</strong></p>
<pre><code class="cs">using MvvmLib.IoC;
using MvvmLib.Message;
using MvvmLib.Navigation;

namespace NavigationSample.Wpf.Startup
{
    public abstract class MvvmLibBootstrapper : BootstrapperBase
    {
        protected IInjector container;

        public MvvmLibBootstrapper(IInjector container)
        {
            if (container == null)
                throw new System.ArgumentNullException(nameof(container));

            this.container = container;
        }

        protected override void RegisterRequiredTypes()
        {
            container.RegisterInstance&lt;IInjector&gt;(container);
            container.RegisterSingleton&lt;IEventAggregator, EventAggregator&gt;();
        }

        protected override void SetViewFactory()
        {
            SourceResolver.SetFactory((sourceType) =&gt; container.GetNewInstance(sourceType));
        }

        protected override void SetViewModelFactory()
        {
            ViewModelLocationProvider.SetViewModelFactory((viewModelType) =&gt; container.GetInstance(viewModelType));
        }
    }
}
</code></pre>

<p>Create the Bootstrapper</p>
<pre><code class="cs">public class Bootstrapper : MvvmLibBootstrapper
{
    public Bootstrapper(IInjector container)
        : base(container)
    { }

    protected override void RegisterTypes()
    {
        container.RegisterSingleton&lt;IFakePeopleService, FakePeopleService&gt;();
    }

    protected override void PreloadApplicationData()
    {
        NavigationManager.CreateDefaultNavigationSource(&quot;Main&quot;);
        NavigationManager.CreateDefaultNavigationSource(&quot;MasterDetails&quot;);

        NavigationManager.CreateSharedSource&lt;MenuItem&gt;();
        NavigationManager.CreateSharedSource&lt;IDetailViewModel&gt;();
        NavigationManager.CreateSharedSource&lt;Person&gt;(&quot;MasterDetails&quot;);
    }

    // its possible to define the ShellViewModel
    //protected override object CreateShellViewModel()
    //{
    //    return container.GetInstance&lt;ShellViewModel&gt;();
    //}

    protected override Window CreateShell()
    {
        return container.GetInstance&lt;Shell&gt;();
    }
}
</code></pre>

<p>App.Xaml: Remove &quot;StartupUri=&quot;MainWindow.xaml&quot; and add a startup event (Startup=&quot;Application_Startup&quot;)</p>
<pre><code class="cs">public partial class App : Application
{
    private void Application_Startup(object sender, StartupEventArgs e)
    {
        var bootstrapper = new Bootstrapper(new Injector());
        bootstrapper.Run();
    }
}
</code></pre>

<h2 id="navigationsource-keyednavigationsource-and-contentcontrolnavigationsource">NavigationSource, KeyedNavigationSource and ContentControlNavigationSource<a class="headerlink" href="#navigationsource-keyednavigationsource-and-contentcontrolnavigationsource" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>The NavigationSource is not linked to the UI. So its possible to create all the navigation sources required by the application at Startup.</p>
<p>The method CreateNavigationSource creates a container (for navigation sources with source name provided) and a first Navigation Source (returned by the function). The first naigation source created is a KeyedNavigationSource with the default key.</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Method</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Navigate</td>
	<td>Navigates to the source (a source is a view or ViewModel) type or source name (for a type registered with SourceResolver.RegisterTypeForNavigation)</td>
</tr>
<tr>
	<td>Redirect</td>
	<td>Redirects and removes the previous entry from the history</td>
</tr>
<tr>
	<td>GoBack</td>
	<td>Navigates to the previous source</td>
</tr>
<tr>
	<td>GoForward</td>
	<td>Navigates to the next source</td>
</tr>
<tr>
	<td>NavigateToRoot</td>
	<td>Navigates to the first source and clears the history</td>
</tr>
<tr>
	<td>NavigateFast</td>
	<td>Useful for navigation cancellation and not recheck guards</td>
</tr>
<tr>
	<td>MoveTo</td>
	<td>Move to the index or the the (existing) source</td>
</tr>
<tr>
	<td>Sync</td>
	<td>Synchronizes the history and sources with the history provided</td>
</tr>
</tbody>
</table>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Property</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Sources</td>
	<td>The collection of sources</td>
</tr>
<tr>
	<td>Current</td>
	<td>The current source. Can be binded to Content property of ContentControls</td>
</tr>
<tr>
	<td>CurrentIndex</td>
	<td>The index of the current source</td>
</tr>
<tr>
	<td>Entries</td>
	<td>The navigation history entries</td>
</tr>
<tr>
	<td>CanGoBack</td>
	<td>Checks if can go back</td>
</tr>
<tr>
	<td>CanGoForward</td>
	<td>Checks if can go forward</td>
</tr>
<tr>
	<td>ClearSourcesOnNavigate</td>
	<td>By default the sources (&quot;forward stack&quot;) are removed on navigate and navigate to root</td>
</tr>
</tbody>
</table>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Events</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>PropertyChanged</td>
	<td>Invoked on property changed (Current, CurrentIndex, etc.)</td>
</tr>
<tr>
	<td>CollectionChanged</td>
	<td>Invoked on collection changed (Sources)</td>
</tr>
<tr>
	<td>CurrentChanged</td>
	<td>Invoked on Current changed</td>
</tr>
<tr>
	<td>CanGoBackChanged</td>
	<td>Invoked on CanGoBack changed</td>
</tr>
<tr>
	<td>CanGoForwardChanged</td>
	<td>Invoked on CanGoForward changed</td>
</tr>
<tr>
	<td>Navigating</td>
	<td>Invoked before navigation starts</td>
</tr>
<tr>
	<td>Navigated</td>
	<td>Invoked after navigation ends</td>
</tr>
<tr>
	<td>NavigationFailed</td>
	<td>Invoked on navigation cancelled</td>
</tr>
</tbody>
</table>
<p>Create the default navigation source.</p>
<pre><code class="cs">this.Navigation = NavigationManager.CreateDefaultNavigationSource(&quot;Main&quot;);
</code></pre>

<p>Get the default navigation source</p>
<pre><code class="cs">this.Navigation = NavigationManager.GetDefaultNavigationSource(&quot;Main&quot;);
</code></pre>

<p>Or ...</p>
<pre><code class="cs">this.Navigation = NavigationManager.GetOrCreateDefaultNavigationSource(&quot;Main&quot;);
</code></pre>

<pre><code class="cs">this.Navigation = new NavigationSource();
</code></pre>

<p>Navigation</p>
<pre><code class="cs">var  navigation = NavigationManager.CreateNavigationSource(&quot;Main&quot;);

navigation.Navigate(typeof(ViewA));

// with parameter
navigation.Navigate(typeof(ViewA), &quot;My parameter&quot;);

// GoBack
navigation.GoBack();

// GoForward
navigation.GoForward();

// Navigate to root
navigation.NavigateToRoot();
</code></pre>

<p>Add navigation sources for the same source name:</p>
<pre><code class="cs">NavigationManager.AddNavigationSource(&quot;Main&quot;, new KeyedNavigationSource(&quot;MyKeyA&quot;));
NavigationManager.AddNavigationSource(&quot;Main&quot;, new KeyedNavigationSource(&quot;MyKeyB&quot;));
</code></pre>

<p>Navigate simultaneously with all sources of a container</p>
<pre><code class="cs">var navigationSources = NavigationManager.GetNavigationSources(&quot;Main&quot;);
navigationSources.Navigate(typeof(ViewA), &quot;My parameter&quot;);
</code></pre>

<p>The container provides some quick commands (these commands not check can go back / forward)</p>
<ul>
<li>NavigateCommand with source type</li>
<li>NavigateToRootCommand</li>
<li>GoBackCommand</li>
<li>GoForwardCommand</li>
<li>RedirectCommand</li>
<li>MoveToIndexCommand and MoveToCommand</li>
</ul>
<p>Bind the NavigationSource <strong>Current</strong> property to a <strong>ContentControl</strong></p>
<pre><code class="xml">&lt;ContentControl Content=&quot;{Binding Navigation.Current}&quot; /&gt;
</code></pre>

<p>The NavigationSource provides some quick Commands</p>
<pre><code class="xml">&lt;!--Navigate command --&gt;
&lt;Button Content=&quot;View A&quot; Command=&quot;{Binding Navigation.NavigateCommand}&quot; CommandParameter=&quot;{x:Type views:ViewA}&quot; /&gt;

&lt;!--GoBack command --&gt;
&lt;Button Content=&quot;Go Back&quot; Command=&quot;{Binding Navigation.GoBackCommand}&quot; /&gt;

&lt;!--GoForward command --&gt;
&lt;Button Content=&quot;Go Forward&quot; Command=&quot;{Binding Navigation.GoForwardCommand}&quot; /&gt;

&lt;!--NavigateToRoot command --&gt;
&lt;Button Content=&quot;Root&quot; Command=&quot;{Binding Navigation.NavigateToRootCommand}&quot; /&gt;
</code></pre>

<p>Sources management</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Methods</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>InsertNewSource</td>
	<td>Creates the source with SourceResolver, inject dependencies and inserts the source at the index. The parameter is stored</td>
</tr>
<tr>
	<td>AddNewSource</td>
	<td>Creates the source with SourceResolver, inject dependencies and adds the source. The parameter is stored</td>
</tr>
<tr>
	<td>RemoveSourceAt</td>
	<td>Removes the source at the index</td>
</tr>
<tr>
	<td>RemoveSource</td>
	<td>Removes the source</td>
</tr>
<tr>
	<td>RemoveSources</td>
	<td>Removes the sources from the start index to the end (remove range)</td>
</tr>
<tr>
	<td>ClearSources</td>
	<td>Clears the source collection</td>
</tr>
</tbody>
</table>
<p>Example: insert and move to a source</p>
<pre><code class="cs">var source = Navigation.InsertNewSource(0, typeof(ViewA), &quot;View A Inserted at index 0&quot;);
Navigation.MoveTo(source);
// or by index
NavigationMoveTo(0);
</code></pre>

<p>Navigation processes</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Process</th>
	<th>Methods</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>&quot;Navigate&quot;</td>
	<td>Navigate, NavigateFast, Redirect</td>
	<td>Find the <strong>selectable</strong> (ISelectable) or create a <strong>new</strong> instance, <strong>INavigationAware</strong> methods invoked (OnNavigatingTo and OnNavigatedTo only for new instance)</td>
</tr>
<tr>
	<td>&quot;Move&quot;</td>
	<td>MoveTo, GoBack, GoForward, NavigateToRoot</td>
	<td>only <strong>INavigationAware</strong> methods invoked</td>
</tr>
</tbody>
</table>
<h3 id="contentcontrolnavigationsource">ContentControlNavigationSource<a class="headerlink" href="#contentcontrolnavigationsource" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Inherits from NavigationSource and updates directly the content of the ContentControl.</p>
<pre><code class="xml">&lt;ContentControl mvvmLib:NavigationManager.SourceName=&quot;Main&quot; /&gt;
</code></pre>

<p>Registering navigation sources for the same source name :</p>
<pre><code class="xml">&lt;ContentControl mvvmLib:NavigationManager.SourceName=&quot;Main&quot; /&gt;
&lt;ContentControl mvvmLib:NavigationManager.SourceName=&quot;Main&quot; /&gt;
&lt;ContentControl mvvmLib:NavigationManager.SourceName=&quot;Main&quot; /&gt;
</code></pre>

<p>The namespace:</p>
<pre><code class="xml">&lt;UserControl ...
            xmlns:mvvmLib=&quot;http://mvvmlib.com/&quot;&gt;
</code></pre>

<h2 id="sharedsource-for-itemscontrol-listbox-tabcontrol-etc.">SharedSource for ItemsControl, ListBox, TabControl, etc.<a class="headerlink" href="#sharedsource-for-itemscontrol-listbox-tabcontrol-etc." title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Provides an Items collection that implements INotifyCollectionChanged, a SelectedItem and more to quickly bind sources... add, remove, replace, move items, select an item by SelectedIndex or SelectedItem, etc. INotifyCollectionChanged and INotifyPropertyChanged do the work for the UI.</p>
<p>SharedSourceItemCollection methods</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Method</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>Insert</td>
	<td>Allows to insert item at index. ICanDeactive, ICanActivate and INavigationAware are invoked for items that implement these interfaces</td>
</tr>
<tr>
	<td>Add</td>
	<td>Adds and item. ICanDeactive, ICanActivate and INavigationAware are invoked for items that implement these interfaces</td>
</tr>
<tr>
	<td>Move</td>
	<td>Moves the item from the old index to the new index. Navigation guards and INavigationAware are not invoked</td>
</tr>
<tr>
	<td>Replace</td>
	<td>Replaces the old item at thhe index by the new item</td>
</tr>
<tr>
	<td>RemoveAt</td>
	<td>Removes the item at the index. ICanDeactive is checked for the item and OnNavigatingFrom is invoked for item that implement INavigationAware</td>
</tr>
<tr>
	<td>Remove</td>
	<td>Removes the item. ICanDeactive is checked for the item and OnNavigatingFrom is invoked for item that implement INavigationAware</td>
</tr>
<tr>
	<td>Clear</td>
	<td>Removes all items. ICanDeactive and INavigationAware OnNavigatingFrom methods are invoked for each item before deletion</td>
</tr>
<tr>
	<td>ClearFast</td>
	<td>Removes all items. ICanDeactive and INavigationAware methods are not invoked</td>
</tr>
</tbody>
</table>
<p>SharedSourceItemCollection events</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Event</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>PropertyChanged</td>
	<td>Invoked on property changed (count, indexer)</td>
</tr>
<tr>
	<td>CollectionChanged</td>
	<td>Invoked on collection changed (Add, Move, Remove, Replace, Reset)</td>
</tr>
</tbody>
</table>
<p>SharedSource provides methods that allow to create and insert quickly. Theses methods use use the SourceResolver to resolve injected dependencies. The SourceResolver factory method can be overridden and use a IoC Container.</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Method</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>CreateNew</td>
	<td>Returns an item instance created with the SourceResolver</td>
</tr>
<tr>
	<td>InsertNew</td>
	<td>Creates a new instance with the SourceResolver an inserts the item created at index. A parameter can be provided for navigation</td>
</tr>
<tr>
	<td>AddNew</td>
	<td>Creates a new instance with the SourceResolver an inserts the item created at index. A parameter can be provided for navigation</td>
</tr>
</tbody>
</table>
<p>SharedSource properties</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Property</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>SelectedItem</td>
	<td>The selected item. Allows to bind quickly for Selectors (ListBox, TabControl, etc.)</td>
</tr>
<tr>
	<td>SelectedIndex</td>
	<td>The index of selected item</td>
</tr>
<tr>
	<td>SelectionHandling</td>
	<td>Allows to select automatically items after insertion, etc. (SelectedItem)</td>
</tr>
</tbody>
</table>
<p>SharedSource events</p>
<table class="table table-bordered-all table-responsive">
<thead>
<tr>
	<th>Event</th>
	<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
	<td>SelectedItemChanged</td>
	<td>Invoked on selected item changed</td>
</tr>
<tr>
	<td>PropertyChanged</td>
	<td>Invoked on selected index and selected item changed</td>
</tr>
<tr>
	<td>SelectionHandling</td>
	<td>Allows to select automatically items after insertion, etc. (SelectedItem)</td>
</tr>
</tbody>
</table>
<h3 id="creating-sharedsources">Creating SharedSources<a class="headerlink" href="#creating-sharedsources" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<pre><code class="cs">var s = NavigationManager.CreateSharedSource&lt;MySharedItem&gt;();
</code></pre>

<p>... or locally</p>
<pre><code class="cs">var s = new SharedSource&lt;MySharedItem&gt;();
</code></pre>

<p>Get a SharedSource already created</p>
<pre><code class="cs">var s = NavigationManager.GetSharedSource&lt;MySharedItem&gt;();
</code></pre>

<p>Or use GetOrCreateSharedSource method</p>
<pre><code class="cs">var s = NavigationManager.GetOrCreateSharedSource&lt;MySharedItem&gt;();
</code></pre>

<p>Creating SharedSources with keys. Allows to use the same type for multiple SharedSource.</p>
<pre><code class="cs">var s1 = NavigationManager.CreateSharedSource&lt;MySharedItem&gt;(&quot;key1&quot;);
var s2 = NavigationManager.CreateSharedSource&lt;MySharedItem&gt;(&quot;key2&quot;);
</code></pre>

<p>GetSharedSource, GetOrCreateSharedSource, etc. methods are available with keys.</p>
<p>Remove a SharedSource</p>
<pre><code class="cs">NavigationManager.RemoveSharedSource&lt;MySharedItem&gt;();
NavigationManager.RemoveSharedSource&lt;MySharedItem&gt;(&quot;key1&quot;);
</code></pre>

<p>Always get a new SharedSource for the type</p>
<pre><code class="cs">var s = NavigationManager.GetNewSharedSource&lt;MySharedItem&gt;();
</code></pre>

<h3 id="add-items-to-a-shared-source">Add items to a Shared source<a class="headerlink" href="#add-items-to-a-shared-source" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Adding items</p>
<pre><code class="cs">var s = NavigationManager.GetSharedSource&lt;MyViewModel&gt;();
s.Items.Add(1, new MyViewModel(), &quot;My parameter to pass to view model&quot;);
s.Items.Insert(1, new MyViewModel(), &quot;My parameter to pass to view model&quot;);
</code></pre>

<p>Or with short cuts</p>
<pre><code class="cs">var s = NavigationManager.GetSharedSource&lt;MyViewModel&gt;();
s.AddNew(&quot;My parameter to pass to view model&quot;);
s.InsertNew(1, &quot;My parameter to pass to view model&quot;);
</code></pre>

<p>Remove</p>
<pre><code class="cs">var s = NavigationManager.GetSharedSource&lt;MyViewModel&gt;();
s.Items.RemoveAt(1);

var vieModel = new MyViewModel();
s.Items.Remove(viewModel);
</code></pre>

<p>Clear</p>
<pre><code class="cs">s.Items.Clear();

s.Items.ClearFast(); // without invoking ICanDeactivate and OnNavigatingFrom
</code></pre>

<p>Move</p>
<pre><code class="cs">s.Items.Move(1, 2); // moves the item at index 1 to index 2
</code></pre>

<p>Replace Item</p>
<pre><code class="cs">s.Items[1] = new MyViewModel();
</code></pre>

<p>Or to check ICanDeactivate, ICanActivate and invoke INavigationAware methods.</p>
<pre><code class="cs">var newItem = new MyViewModel();
NavigationHelper.Replace(1, newItem);
</code></pre>

<h3 id="select-an-item">Select an item<a class="headerlink" href="#select-an-item" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<pre><code class="cs">s.SelectedIndex = 1;

// or
var item = s.Items[1];
s.SelectedItem = item;
</code></pre>

<p>Note: The selected item is automatically set on insertion, deletion, etc. with <strong>SelectionHandling</strong> &quot;Select&quot; (default). Set the SelectionHandling to <em>None</em> to remove this behavior.</p>
<pre><code class="cs">s.SelectionHandling = SelectionHandling.None;
s.SelectionHandling = SelectionHandling.Select;
</code></pre>

<p>ViewModel Sample</p>
<pre><code class="cs">public class ViewAViewModel: INavigationAware
{
    public SharedSource&lt;MyItemDetailsViewModel&gt; DetailsSource { get; }

    public SharedSourceSampleViewModel()
    {
        DetailsSource = NavigationManager.GetOrCreateSharedSource&lt;MyItemDetailsViewModel&gt;();
    }

    public void Load()
    {   
        // load data
        DetailsSource.Load(new List&lt;MyItemDetailsViewModel&gt;
        {
            new MyItemDetailsViewModel(new MyItem { Name = &quot;Item.1&quot; }),
            new MyItemDetailsViewModel(new MyItem { Name = &quot;Item.2&quot; })
        });
    }

    public void OnNavigatingFrom(NavigationContext navigationContext)
    {

    }

    public void OnNavigatingTo(NavigationContext navigationContext)
    {
        Load();
    }

    public void OnNavigatedTo(NavigationContext navigationContext)
    {

    }
}
</code></pre>

<p>Bind the source to controls:</p>
<p>ItemsControl</p>
<pre><code class="xml">&lt;ItemsControl ItemsSource=&quot;{Binding DetailsSource.Items}&quot; /&gt;
</code></pre>

<p>Selector (ListBox, TabControl, etc.) :</p>
<pre><code class="xml">&lt;ListView ItemsSource=&quot;{Binding DetailsSource.Items}&quot; SelectedItem=&quot;{Binding DetailsSource.SelectedItem}&quot; /&gt;
</code></pre>

<pre><code class="xml">&lt;TabControl ItemsSource=&quot;{Binding DetailsSource.Items}&quot;  
            SelectedItem=&quot;{Binding DetailsSource.SelectedItem}&quot;&gt;
    &lt;TabControl.ItemTemplate&gt;
        &lt;DataTemplate&gt;
            &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;
                &lt;TextBlock Text=&quot;{Binding Item.Name}&quot; Margin=&quot;20,0&quot;/&gt;
                &lt;Button Content=&quot;X&quot; 
                        Command=&quot;{Binding CloseCommand}&quot; 
                        HorizontalAlignment=&quot;Right&quot; Height=&quot;20&quot; Width=&quot;20&quot; 
                        VerticalAlignment=&quot;Top&quot; /&gt;
            &lt;/StackPanel&gt;
        &lt;/DataTemplate&gt;
    &lt;/TabControl.ItemTemplate&gt;
&lt;/TabControl&gt;
</code></pre>

<p><strong>Tip</strong>: Use an interface (IDetailViewModel for example) for TabControls that can display multiple views.</p>
<pre><code class="cs">public interface IDetailsViewModel
{
    string Title { get; set; }
}

public abstract class DetailsViewModelBase : BindableBase, IDetailsViewModel
{
    protected string title;
    public string Title
    {
        get { return title; }
        set { SetProperty(ref title, value); }
    }

    public SharedSource&lt;IDetailsViewModel&gt; DetailsSource { get; }

    public DetailsViewModelBase()
    {
        DetailsSource = SharedSourceManager.GetOrCreate&lt;IDetailsViewModel&gt;();
    }
}

public class ViewAViewModel : DetailsViewModelBase, ICanDeactivate
{
    // ...
}
public class ViewBViewModel : DetailsViewModelBase
{
    // ...
}
</code></pre>

<h2 id="viewmodellocator">ViewModelLocator<a class="headerlink" href="#viewmodellocator" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>Allows to resolve ViewModels for Views with <strong>ResolveViewModel</strong>. </p>
</blockquote>
<p>Default <strong>convention</strong>:</p>
<ul>
<li>Views in <code>Views</code> namespace</li>
<li>View models in <code>ViewModels</code> namespace</li>
<li>
View model name: 
<ul>
<li><em>view name + &quot;ViewModel&quot;</em> (example: ShellViewModel for Shell)</li>
<li>Or if the view name ends by &quot;View&quot;: <em>view name + &quot;Model&quot;</em> (example: NavigationViewModel for NavigationView)</li>
</ul>
</li>
</ul>
<h3 id="change-the-convention">Change the convention<a class="headerlink" href="#change-the-convention" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Example with &quot;View&quot; and &quot;ViewModel&quot; namespaces</p>
<pre><code class="cs">ViewModelLocationProvider.ChangeConvention((viewType) =&gt;
{
  var viewFullName = viewType.FullName;
  viewFullName = viewFullName.Replace(&quot;.View.&quot;, &quot;.ViewModel.&quot;); // &lt;= 
  var suffix = viewFullName.EndsWith(&quot;View&quot;) ? &quot;Model&quot; : &quot;ViewModel&quot;;
  var viewModelFullName = string.Format(CultureInfo.InvariantCulture, &quot;{0}{1}&quot;, viewFullName, suffix);
  var viewModelType = viewType.Assembly.GetType(viewModelFullName);

  return viewModelType;
});
</code></pre>

<h3 id="register-a-custom-view-model-for-a-view">Register a custom View Model for a view<a class="headerlink" href="#register-a-custom-view-model-for-a-view" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>For example: the view model for a ViewA is not ViewAViewModel but MyCustomViewAViewModel</p>
<pre><code class="cs">ViewModelLocationProvider.RegisterCustom(typeof(ViewA), typeof(MyCustomViewAViewModel));
</code></pre>

<h3 id="resolveviewmodel-attached-property-window-usercontrol">ResolveViewModel Attached property (Window, UserControl)<a class="headerlink" href="#resolveviewmodel-attached-property-window-usercontrol" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h3>
<p>Allows to resolve the ViewModel (and inject dependencies) for the View. Usefull only for Views not used by the Navigation.</p>
<p>Example:</p>
<pre><code class="xml">&lt;Window x:Class=&quot;Sample.Views.Shell&quot;
        ...
         xmlns:nav=&quot;http://mvvmlib.com/&quot;
         nav:ViewModelLocator.ResolveViewModel=&quot;True&quot;&gt;
</code></pre>

<p><strong>Note</strong>: NavigationSources and Shared Sources resolve automatically the ViewModel with the ViewModelLocator. So, using &quot;ResolveViewModel&quot; attached property is rarely required.</p>
<p><strong>IIsLoaded</strong> allows to notify view model that the view is loaded for a view that use resolve view model attached property or defined in Bootstrapper.</p>
<pre><code class="cs">public class AuthorsViewModel : IIsLoaded
{
    private readonly IAuthorLookupService authorLookupService;

    public ObservableCollection&lt;LookupItem&gt; Authors { get; set; }

    public AuthorsViewModel(IAuthorLookupService authorLookupService)
    {
        this.authorLookupService = authorLookupService;
    }

    public async void LoadAsync()
    {
        var authors = await this.authorLookupService.GetAuthorLookupAsync();
        this.Authors = new ObservableCollection&lt;LookupItem&gt;(authors);
    }

    public void OnLoaded()
    {
        LoadAsync();
    }
}
</code></pre>

<h2 id="inavigationaware">INavigationAware<a class="headerlink" href="#inavigationaware" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>Allows to notify ViewModel with parameter</p>
</blockquote>
<ul>
<li><strong>OnNavigatingFrom</strong></li>
<li><strong>OnNavigatingTo</strong></li>
<li><strong>OnNavigatedTo</strong></li>
</ul>
<pre><code class="cs">public class ViewAViewModel : INavigationAware
{
    public void OnNavigatingFrom(NavigationContext navigationContext)
    {

    }

    public void OnNavigatingTo(NavigationContext navigationContext)
    {
       // Usefull to preload data 
    }

    public void OnNavigatedTo(NavigationContext navigationContext)
    {
        // gets the parameter
        var parameter = navigationContext.Parameter;
        // etc.
    }
}
</code></pre>

<p>The navigation context contains the navigation parameter. That allows to modify this parameter (on goback, goforward, check activation, ect.). </p>
<pre><code class="cs">Navigation.Navigate(typeof(ViewA), &quot;My parameter&quot;);
</code></pre>

<p>Use a dictionary for multiple parameters.</p>
<pre><code class="cs">var navigationParameters = new Dictionary&lt;string, object&gt;
{
    { &quot;redirectTo&quot;,typeof(ViewE) },
    { &quot;parameter&quot;, navigationContext.Parameter }
};
Navigation.NavigateFast(typeof(LoginView), navigationParameters);
</code></pre>

<h2 id="navigation-guards-icanactivate-icandeactivate">Navigation Guards (ICanActivate, ICanDeactivate)<a class="headerlink" href="#navigation-guards-icanactivate-icandeactivate" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Useful when the user want to leave a page or close a tabitem for example.</p>
<pre><code class="cs">public class ViewAViewModel : ICanActivate, ICanDeactivate
{

    public void CanActivate(NavigationContext navigationContext, Action&lt;bool&gt; continuationCallback)
    {
        var canActivate = MessageBox.Show(&quot;Can activate?&quot;, &quot;Question&quot;, MessageBoxButton.OKCancel) == MessageBoxResult.OK;
        continuationCallback(canActivate);
    }

    public void CanDeactivate(NavigationContext navigationContext, Action&lt;bool&gt; continuationCallback)
    {
        var canDeactivate = MessageBox.Show(&quot;Can deactivate?&quot;, &quot;Question&quot;, MessageBoxButton.OKCancel) == MessageBoxResult.OK;
        continuationCallback(canDeactivate);
    }
}
</code></pre>

<h2 id="iselectable-with-navigationsource">ISelectable with NavigationSource<a class="headerlink" href="#iselectable-with-navigationsource" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Allows to use the &quot;same view&quot; multiple times. For example in a Master/ details scenario, the details view is used for displaying each user.</p>
<pre><code class="cs">public class PersonDetailsViewModel : BindableBase, ISelectable 
{
    private Person person;
    public Person Person
    {
        get { return person; }
        set { SetProperty(ref person, value); }
    }

    // etc.

    public bool IsTarget(Type viewType, object parameter)
    {
        if (parameter != null)
            return person.Id == (int)parameter;
        
        return false;
    }
}
</code></pre>

<h2 id="navigationbrowser">NavigationBrowser<a class="headerlink" href="#navigationbrowser" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>Allows to browse a source (NavigationSource, SharedSource, etc.) with a CollectionView.</p>
</blockquote>
<pre><code class="cs">this.PeopleSource = NavigationManager.GetOrCreateSharedSource&lt;PersonViewModel&gt;();
this.Browser = new NavigationBrowser(this.PeopleSource.Items);
</code></pre>

<p>Add buttons and bind Borwser commands</p>
<pre><code class="xml">&lt;Button Content=&quot;First&quot; Command=&quot;{Binding Browser.MoveCurrentToFirstCommand}&quot; /&gt;
&lt;Button Content=&quot;Previous&quot; Command=&quot;{Binding Browser.MoveCurrentToPreviousCommand}&quot; /&gt;
&lt;Button Content=&quot;Previous&quot; Command=&quot;{Binding Browser.MoveCurrentToNextCommand}&quot; /&gt;
&lt;Button Content=&quot;Last&quot; Command=&quot;{Binding Browser.MoveCurrentToLastCommand}&quot; /&gt;
&lt;TextBox x:Name=&quot;PositionTextBox&quot; Width=&quot;80&quot;&gt;
    &lt;mvvmLib:NavigationInteraction.Behaviors&gt;
        &lt;mvvmLib:EventToCommandBehavior EventName=&quot;TextChanged&quot; 
                                        Command=&quot;{Binding Browser.MoveCurrentToPositionCommand}&quot;
                                        CommandParameter=&quot;{Binding ElementName=PositionTextBox, Path=Text}&quot;
                                        /&gt;
    &lt;/mvvmLib:NavigationInteraction.Behaviors&gt;
&lt;/TextBox&gt;
</code></pre>

<h2 id="iisselected-iselectable-and-selectionsyncbehavior">IIsSelected, ISelectable and SelectionSyncBehavior<a class="headerlink" href="#iisselected-iselectable-and-selectionsyncbehavior" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<p>Bind the Items collection and the SelectedItem of the SharedSource is easy.</p>
<p><strong>IIsSelected</strong> allows to be notified from ViewModel of selection.</p>
<pre><code class="cs">public class ViewCViewModel : DetailsViewModelBase, IIsSelected
{
    private bool isSelected;
    public bool IsSelected
    {
        get { return isSelected; }
        set
        {
            SetProperty(ref isSelected, value);
            if (isSelected)
                Title = &quot;ACTIVE&quot;;
            else
                Title = &quot;NOT Active&quot;;
        }
    }
}
</code></pre>

<p><strong>ISelectable</strong> allows for example to select a tabitem opened</p>
<pre><code class="cs">public class ViewDViewModel : DetailsViewModelBase, ISelectable
{
    public bool IsTarget(Type sourceType, object parameter)
    {
        return sourceType == typeof(ViewDViewModel);
    }
}
</code></pre>

<p><strong>SelectionSyncBehavior</strong> allows to notify all ViewModels (that implements IIsSelected) for a ListView with selection mode Multiple for example.</p>
<pre><code class="xml">&lt;ListView x:Name=&quot;ListView1&quot; 
            ItemsSource=&quot;{Binding DetailsSource.Items}&quot;
            SelectedItem=&quot;{Binding DetailsSource.SelectedItem}&quot;
            SelectionMode=&quot;Multiple&quot; 
            ItemContainerStyle=&quot;{StaticResource ListViewItemStyle}&quot;&gt;
    &lt;mvvmLib:NavigationInteraction.Behaviors&gt;
        &lt;mvvmLib:SelectionSyncBehavior /&gt;
    &lt;/mvvmLib:NavigationInteraction.Behaviors&gt;
&lt;/ListView&gt;
</code></pre>

<h2 id="animatablecontentcontrol">AnimatableContentControl<a class="headerlink" href="#animatablecontentcontrol" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>Content Control that allows to animate on content change. </p>
</blockquote>
<p>2 Storyboards : </p>
<ul>
<li>EntranceAnimation </li>
<li>ExitAnimation</li>
<li>Simultaneous (boolean) allows to play simultaneously the animations.</li>
<li>CanAnimateOnLoad: allows to cancel animation on load</li>
</ul>
<pre><code class="xml">&lt;mvvmLib:AnimatableContentControl mvvmLib:NavigationManager.SourceName=&quot;Main&quot;&gt;
    &lt;mvvmLib:AnimatableContentControl.EntranceAnimation&gt;
        &lt;Storyboard&gt;
            &lt;!-- Target &quot;CurrentContentPresenter&quot;  --&gt;
            &lt;DoubleAnimation Storyboard.TargetName=&quot;CurrentContentPresenter&quot; 
                             Storyboard.TargetProperty=&quot;(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)&quot;
                             From=&quot;400&quot; To=&quot;0&quot; Duration=&quot;0:0:0.4&quot;  /&gt;
        &lt;/Storyboard&gt;
    &lt;/mvvmLib:AnimatableContentControl.EntranceAnimation&gt;
    &lt;mvvmLib:AnimatableContentControl.ExitAnimation&gt;
        &lt;Storyboard&gt;
            &lt;!-- Target &quot;CurrentContentPresenter&quot; or with Simulatenous &quot;PreviousContentPresenter&quot; --&gt;
            &lt;DoubleAnimation Storyboard.TargetName=&quot;CurrentContentPresenter&quot; 
                             Storyboard.TargetProperty=&quot;(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)&quot;
                             From=&quot;0&quot; To=&quot;400&quot; Duration=&quot;0:0:0.4&quot;  /&gt;
        &lt;/Storyboard&gt;
    &lt;/mvvmLib:AnimatableContentControl.ExitAnimation&gt;
&lt;/mvvmLib:AnimatableContentControl&gt;
</code></pre>

<p>Or Simulatneous</p>
<pre><code class="xml">  &lt;mvvmLib:AnimatableContentControl Content=&quot;{Binding Navigation.Current}&quot; 
                                    Simultaneous=&quot;True&quot;
                                    IsCancelled=&quot;{Binding IsCancelled}&quot;&gt;
    &lt;mvvmLib:AnimatableContentControl.EntranceAnimation&gt;
        &lt;Storyboard&gt;
            &lt;DoubleAnimation  Storyboard.TargetName=&quot;CurrentContentPresenter&quot;
                                Storyboard.TargetProperty=&quot;(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)&quot;
                                From=&quot;{Binding ElementName=ThisControl,Path=ActualWidth,FallbackValue=400}&quot; To=&quot;0&quot; 
                                Duration=&quot;{Binding ElementName=DuractionComboBox,Path=SelectedItem}&quot;&gt;
                &lt;DoubleAnimation.EasingFunction&gt;
                    &lt;SineEase EasingMode=&quot;EaseInOut&quot; /&gt;
                &lt;/DoubleAnimation.EasingFunction&gt;
            &lt;/DoubleAnimation&gt;
        &lt;/Storyboard&gt;
    &lt;/mvvmLib:AnimatableContentControl.EntranceAnimation&gt;
    &lt;mvvmLib:AnimatableContentControl.ExitAnimation&gt;
        &lt;Storyboard&gt;
            &lt;DoubleAnimation  Storyboard.TargetName=&quot;PreviousContentPresenter&quot;
                                Storyboard.TargetProperty=&quot;(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)&quot;
                                From=&quot;0&quot; To=&quot;{Binding ElementName=ThisControl,Path=ActualWidth,FallbackValue=400}&quot; 
                                Duration=&quot;{Binding ElementName=DuractionComboBox,Path=SelectedItem}&quot;&gt;
                &lt;DoubleAnimation.EasingFunction&gt;
                    &lt;SineEase EasingMode=&quot;EaseInOut&quot; /&gt;
                &lt;/DoubleAnimation.EasingFunction&gt;
            &lt;/DoubleAnimation&gt;
        &lt;/Storyboard&gt;
    &lt;/mvvmLib:AnimatableContentControl.ExitAnimation&gt;
&lt;/mvvmLib:AnimatableContentControl&gt;
</code></pre>

<h2 id="transitioningcontentcontrol">TransitioningContentControl<a class="headerlink" href="#transitioningcontentcontrol" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>Allows to play a transition on loaded.</p>
</blockquote>
<p>2 Storyboards:</p>
<ul>
<li>EntranceTransition: played when control loaded (or explicitly with &quot;DoEnter&quot;)</li>
<li>ExitTransition: played explicitly with &quot;DoLeave&quot; or IsLeaving dependency property (for example played when the user click on a tab close button)</li>
</ul>
<p>Other methods:</p>
<ul>
<li>CancelTransition</li>
<li>Reset: reset the render transform property and opacity + cancel transition</li>
</ul>
<pre><code class="xml">&lt;mvvmLib:TransitioningContentControl x:Name=&quot;TransitioningContentControl1&quot; Margin=&quot;0,20&quot;&gt;
        &lt;mvvmLib:TransitioningContentControl.EntranceTransition&gt;
            &lt;Storyboard&gt;
                &lt;DoubleAnimation Storyboard.TargetName=&quot;ContentPresenter&quot; 
                                    Storyboard.TargetProperty=&quot;(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)&quot; 
                                    From=&quot;0&quot; To=&quot;1&quot; Duration=&quot;0:0:0.6&quot;&gt;
                    &lt;DoubleAnimation.EasingFunction&gt;
                        &lt;ExponentialEase EasingMode=&quot;EaseInOut&quot;/&gt;
                    &lt;/DoubleAnimation.EasingFunction&gt;
                &lt;/DoubleAnimation&gt;
            &lt;/Storyboard&gt;
        &lt;/mvvmLib:TransitioningContentControl.EntranceTransition&gt;
        &lt;mvvmLib:TransitioningContentControl.ExitTransition&gt;
            &lt;Storyboard&gt;
                &lt;DoubleAnimation Storyboard.TargetName=&quot;ContentPresenter&quot; 
                                    Storyboard.TargetProperty=&quot;(UIElement.Opacity)&quot; 
                                    From=&quot;1&quot; To=&quot;0&quot; Duration=&quot;0:0:2&quot;/&gt;
            &lt;/Storyboard&gt;
&lt;/mvvmLib:TransitioningContentControl.ExitTransition&gt;
</code></pre>

<h2 id="transitioningitemscontrol">TransitioningItemsControl<a class="headerlink" href="#transitioningitemscontrol" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>ItemsControl that allows to animate on item insertion and deletion. </p>
</blockquote>
<p>The &quot;ControlledAnimation&quot; avoid to set the target and the target property of the storyboard. The TargetPropertyType is a shortcut. But it's possible to target explicitly the target property of the storyboard with &quot;TargetProperty&quot; dependency property.</p>
<pre><code class="xml">&lt;mvvmLib:TransitioningItemsControl ItemsSource=&quot;{Binding MyItems}&quot; 
                                   TransitionClearHandling=&quot;Transition&quot;
                                   IsCancelled=&quot;{Binding IsCancelled}&quot;&gt;
    &lt;mvvmLib:TransitioningItemsControl.EntranceAnimation&gt;
        &lt;mvvmLib:ParallelAnimation&gt;

            &lt;mvvmLib:ControlledAnimation TargetPropertyType=&quot;TranslateX&quot;&gt;
                &lt;DoubleAnimation From=&quot;200&quot; To=&quot;0&quot;  Duration=&quot;0:0:2&quot;/&gt;
            &lt;/mvvmLib:ControlledAnimation&gt;

        &lt;/mvvmLib:ParallelAnimation&gt;
    &lt;/mvvmLib:TransitioningItemsControl.EntranceAnimation&gt;

    &lt;mvvmLib:TransitioningItemsControl.ExitAnimation&gt;
        &lt;mvvmLib:ParallelAnimation&gt;
            &lt;mvvmLib:ControlledAnimation TargetPropertyType=&quot;TranslateX&quot;&gt;
                &lt;DoubleAnimation From=&quot;0&quot; To=&quot;200&quot; Duration=&quot;0:0:2&quot;/&gt;
            &lt;/mvvmLib:ControlledAnimation&gt;
        &lt;/mvvmLib:ParallelAnimation&gt;
    &lt;/mvvmLib:TransitioningItemsControl.ExitAnimation&gt;
&lt;/mvvmLib:TransitioningItemsControl&gt;
</code></pre>

<h2 id="eventtocommandbehavior">EventToCommandBehavior<a class="headerlink" href="#eventtocommandbehavior" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>Allows to bind an event to a command.</p>
</blockquote>
<p>Sample button &quot;Click&quot; event binded to a ViewModel command</p>
<pre><code class="xml">&lt;Button Content=&quot;Click event&quot;&gt;
    &lt;mvvmLib:NavigationInteraction.Behaviors&gt;
        &lt;mvvmLib:EventToCommandBehavior EventName=&quot;Click&quot; Command=&quot;{Binding SayHelloCommand}&quot; CommandParameter=&quot;World&quot;/&gt;
    &lt;/mvvmLib:NavigationInteraction.Behaviors&gt;
&lt;/Button&gt;
</code></pre>

<p>ViewModel</p>
<pre><code class="cs">public class ViewAViewModel : BindableBase
{
    private string message;
    public string Message
    {
        get { return message; }
        set { SetProperty(ref message, value); }
    }

    public ICommand SayHelloCommand { get; }

    public ViewAViewModel()
    {
        SayHelloCommand = new RelayCommand&lt;string&gt;(SayHello);
    }

    private void SayHello(string value)
    {
        Message = $&quot;Hello {value}! {DateTime.Now.ToLongTimeString()}&quot;;
    }
}
</code></pre>

<h2 id="modules">Modules<a class="headerlink" href="#modules" title="Permalink to this headline"><i class="fa fa-link" aria-hidden="true"></i></a></h2>
<blockquote>
<p>allows to manage modules/assemblies loaded &quot;on demand&quot;</p>
</blockquote>
<p>For example:</p>
<ul>
<li>Create a library &quot;ModuleA&quot;</li>
<li>Add Views, ViewModels, etc.</li>
<li>Create a module configuration file</li>
</ul>
<pre><code class="cs">using ModuleA.ViewModels;
using ModuleA.Views;
using MvvmLib.Modules;
using MvvmLib.Navigation;

namespace ModuleA
{
    public class ModuleAConfig : IModuleConfig
    {
        public void Initialize()
        {
            SourceResolver.RegisterTypeForNavigation&lt;ViewA&gt;(); // With View
            SourceResolver.RegisterTypeForNavigation&lt;ViewBViewModel&gt;(&quot;ViewB&quot;); // With ViewModel (+ DataTemplate)
        }
    }
}
</code></pre>

<ul>
<li>Do not add a reference to this assembly from main project</li>
<li>In main project. Register the module infos:</li>
</ul>
<p>With Bootstrapper</p>
<pre><code class="cs">public class Bootstrapper : MvvmLibBootstrapper
{
    //  etc.

    protected override void RegisterModules()
    {
        // 1. The module name (an id)
        // 2. The location of the dll
        // 3. The module config class full name
        ModuleManager.RegisterModule(&quot;ModuleA&quot;, @&quot;C:\MyProject\Modules\ModuleA.dll&quot;, &quot;ModuleA.ModuleAConfig&quot;);
    }
}
</code></pre>

<p>Or in App.Config file</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;configuration&gt;
  &lt;configSections&gt;
    &lt;section name=&quot;modules&quot; type=&quot;MvvmLib.Modules.ModulesConfigurationSection, MvvmLib.Wpf&quot;/&gt;
  &lt;/configSections&gt;
  &lt;startup&gt;
    &lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.5&quot; /&gt;
  &lt;/startup&gt;
  &lt;modules&gt;
    &lt;module name=&quot;ModuleA&quot; file=&quot;C:\MyProject\Modules\ModuleA.dll&quot; moduleConfigFullName=&quot;ModuleA.ModuleAConfig&quot;/&gt;
  &lt;/modules&gt;
&lt;/configuration&gt;
</code></pre>

<ul>
<li>Load the assembly/ module</li>
</ul>
<pre><code class="cs">ModuleManager.LoadModule(&quot;ModuleA&quot;);
</code></pre>

<p>Navigate by source name. Example</p>
<pre><code class="cs">await this.Navigation.NavigateAsync(&quot;ViewA&quot;);
</code></pre>


                    </div>
                </div>
                <footer>
                    <hr />
                    <div role="contentinfo">
MvvmLib Documentation. &copy;2019. <a href='https://github.com/romagny13/MvvmLib' target='_blank'>GitHub</a> | <a href='https://www.nuget.org/profiles/romagny13' target='_blank'>NuGet</a>.
                    </div>
                </footer>
            </div>
        </section>
    </div>
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/modernizr-2.8.3.min.js"></script>
    <script src="js/highlight.pack.js"></script>
    <script src="js/theme.js"></script>

</body>
</html>
